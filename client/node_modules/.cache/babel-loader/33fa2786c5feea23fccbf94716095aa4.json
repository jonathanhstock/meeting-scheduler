{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport emailjs from \"@emailjs/browser\";\nexport const time = [{\n  id: \"null\",\n  t: \"Select\"\n}, {\n  id: \"7\",\n  t: \"7:00am\"\n}, {\n  id: \"8\",\n  t: \"8:00am\"\n}, {\n  id: \"9\",\n  t: \"9:00am\"\n}, {\n  id: \"10\",\n  t: \"10:00am\"\n}, {\n  id: \"11\",\n  t: \"11:00am\"\n}, {\n  id: \"12\",\n  t: \"12:00pm\"\n}, {\n  id: \"13\",\n  t: \"13:00pm\"\n}, {\n  id: \"14\",\n  t: \"14:00pm\"\n}, {\n  id: \"15\",\n  t: \"15:00pm\"\n}, {\n  id: \"16\",\n  t: \"16:00pm\"\n}, {\n  id: \"17\",\n  t: \"17:00pm\"\n}, {\n  id: \"18\",\n  t: \"18:00pm\"\n}, {\n  id: \"19\",\n  t: \"19:00pm\"\n}];\nexport async function handleLogin(username, password, navigate) {\n  try {\n    const request = await fetch(\"http://localhost:4000/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username,\n        password\n      }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await request.json();\n\n    if (data.error_message) {\n      toast.error(data.error_message);\n    } else {\n      toast.success(data.message);\n      localStorage.setItem(\"_id\", data.data._id);\n      localStorage.setItem(\"_myEmail\", data.data._email);\n      navigate(\"/dashboard\");\n    }\n  } catch (err) {\n    console.error(err);\n  }\n}\nexport async function handleRegister(email, username, password, navigate) {\n  try {\n    const request = await fetch(\"http://localhost:4000/register\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        username,\n        password\n      }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await request.json();\n\n    if (data.error_message) {\n      toast.error(data.error_message);\n    } else {\n      toast.success(data.message);\n      navigate(\"/\");\n    }\n  } catch (err) {\n    console.error(err);\n    toast.error(\"Account creation failed\");\n  }\n}\nexport async function handleCreateSchedule(selectedTimezone, schedule, navigate) {\n  try {\n    await fetch(\"http://localhost:4000/schedule/create\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        userId: localStorage.getItem(\"_id\"),\n        timezone: selectedTimezone,\n        schedule\n      }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    navigate(`/profile/${localStorage.getItem(\"_id\")}`);\n  } catch (err) {\n    console.error(err);\n  }\n}\nexport function fetchBookingDetails(user, setError, setTimezone, setSchedules, setReceiverEmail) {\n  fetch(`http://localhost:4000/schedules/${user}`, {\n    method: \"POST\",\n    body: JSON.stringify({\n      username: user\n    }),\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(res => res.json()).then(data => {\n    if (data.error_message) {\n      toast.error(data.error_message);\n      setError(true);\n    } else {\n      setTimezone(data.timezone.label);\n      setSchedules(data.schedules);\n      setReceiverEmail(data.receiverEmail);\n    }\n  }).catch(err => console.error(err));\n}\nexport const sendEmail = (receiverEmail, email, fullName, message, duration) => {\n  emailjs.send(\"YOUR_SERVICE_ID\", \"YOUR_TEMPLATE_ID\", {\n    to_email: receiverEmail,\n    from_email: email,\n    fullName,\n    message,\n    duration\n  }, \"YOUR_PUBLIC_KEY\").then(result => {\n    console.log(result.text);\n    toast.success(\"Session booked successfully!\");\n  }, error => {\n    console.log(error.text);\n    toast.error(error.text);\n  });\n};","map":{"version":3,"names":["toast","emailjs","time","id","t","handleLogin","username","password","navigate","request","fetch","method","body","JSON","stringify","headers","Accept","data","json","error_message","error","success","message","localStorage","setItem","_id","_email","err","console","handleRegister","email","handleCreateSchedule","selectedTimezone","schedule","userId","getItem","timezone","fetchBookingDetails","user","setError","setTimezone","setSchedules","setReceiverEmail","then","res","label","schedules","receiverEmail","catch","sendEmail","fullName","duration","send","to_email","from_email","result","log","text"],"sources":["/Users/jonathanstock/Downloads/blog-main/scheduling-app-with-react-nodejs-emailjs/client/src/utils/resource.js"],"sourcesContent":["import { toast } from \"react-toastify\";\nimport emailjs from \"@emailjs/browser\";\n\nexport const time = [\n\t{ id: \"null\", t: \"Select\" },\n\t{ id: \"7\", t: \"7:00am\" },\n\t{ id: \"8\", t: \"8:00am\" },\n\t{ id: \"9\", t: \"9:00am\" },\n\t{ id: \"10\", t: \"10:00am\" },\n\t{ id: \"11\", t: \"11:00am\" },\n\t{ id: \"12\", t: \"12:00pm\" },\n\t{ id: \"13\", t: \"13:00pm\" },\n\t{ id: \"14\", t: \"14:00pm\" },\n\t{ id: \"15\", t: \"15:00pm\" },\n\t{ id: \"16\", t: \"16:00pm\" },\n\t{ id: \"17\", t: \"17:00pm\" },\n\t{ id: \"18\", t: \"18:00pm\" },\n\t{ id: \"19\", t: \"19:00pm\" },\n];\n\nexport async function handleLogin(username, password, navigate) {\n\ttry {\n\t\tconst request = await fetch(\"http://localhost:4000/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\tconst data = await request.json();\n\t\tif (data.error_message) {\n\t\t\ttoast.error(data.error_message);\n\t\t} else {\n\t\t\ttoast.success(data.message);\n\t\t\tlocalStorage.setItem(\"_id\", data.data._id);\n\t\t\tlocalStorage.setItem(\"_myEmail\", data.data._email);\n\t\t\tnavigate(\"/dashboard\");\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n}\nexport async function handleRegister(email, username, password, navigate) {\n\ttry {\n\t\tconst request = await fetch(\"http://localhost:4000/register\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\tconst data = await request.json();\n\t\tif (data.error_message) {\n\t\t\ttoast.error(data.error_message);\n\t\t} else {\n\t\t\ttoast.success(data.message);\n\t\t\tnavigate(\"/\");\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\ttoast.error(\"Account creation failed\");\n\t}\n}\n\nexport async function handleCreateSchedule(\n\tselectedTimezone,\n\tschedule,\n\tnavigate\n) {\n\ttry {\n\t\tawait fetch(\"http://localhost:4000/schedule/create\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tuserId: localStorage.getItem(\"_id\"),\n\t\t\t\ttimezone: selectedTimezone,\n\t\t\t\tschedule,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\tnavigate(`/profile/${localStorage.getItem(\"_id\")}`);\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n}\nexport function fetchBookingDetails(\n\tuser,\n\tsetError,\n\tsetTimezone,\n\tsetSchedules,\n\tsetReceiverEmail\n) {\n\tfetch(`http://localhost:4000/schedules/${user}`, {\n\t\tmethod: \"POST\",\n\t\tbody: JSON.stringify({\n\t\t\tusername: user,\n\t\t}),\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t})\n\t\t.then((res) => res.json())\n\t\t.then((data) => {\n\t\t\tif (data.error_message) {\n\t\t\t\ttoast.error(data.error_message);\n\t\t\t\tsetError(true);\n\t\t\t} else {\n\t\t\t\tsetTimezone(data.timezone.label);\n\t\t\t\tsetSchedules(data.schedules);\n\t\t\t\tsetReceiverEmail(data.receiverEmail);\n\t\t\t}\n\t\t})\n\t\t.catch((err) => console.error(err));\n}\n\nexport const sendEmail = (\n\treceiverEmail,\n\temail,\n\tfullName,\n\tmessage,\n\tduration\n) => {\n\temailjs\n\t\t.send(\n\t\t\t\"YOUR_SERVICE_ID\",\n                \"YOUR_TEMPLATE_ID\",\n\t\t\t{\n\t\t\t\tto_email: receiverEmail,\n\t\t\t\tfrom_email: email,\n\t\t\t\tfullName,\n\t\t\t\tmessage,\n\t\t\t\tduration,\n\t\t\t},\n\t\t\t\"YOUR_PUBLIC_KEY\"\n\t\t)\n\t\t.then(\n\t\t\t(result) => {\n\t\t\t\tconsole.log(result.text);\n\t\t\t\ttoast.success(\"Session booked successfully!\");\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.log(error.text);\n\t\t\t\ttoast.error(error.text);\n\t\t\t}\n\t\t);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}